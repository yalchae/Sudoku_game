<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>스도쿠 · 블랙 테마</title>
  <style>
    :root{
      --bg:#000000;          /* 전체 배경 (블랙) */
      --ui:#FFFFFF;          /* UI 버튼 등 (화이트) */
      --cell:#000000;        /* 칸 내부 (블랙) */
      --num:#BFBFBF;         /* 숫자 (밝은 회색) */
      --line:#BFBFBF;        /* 격자선 (밝은 회색) */
      --accent:#9e9e9e;      /* 포커스 라인 (회색) */
      --error:#ff4d4f;       /* 에러 표시 */
      --ok:#52c41a;          /* 성공 표시 */
    }

    *{box-sizing:border-box}
    *{-webkit-tap-highlight-color: transparent}
    button, select, .cell{touch-action: manipulation}
    html,body{height:100%; -webkit-text-size-adjust:100%;}
    body{
      margin:0; background:var(--bg); color:var(--ui);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans KR, Helvetica Neue, Arial, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
      display:flex; align-items:center; justify-content:center;
    }

    h1{ margin:0 0 12px; font-weight:700; letter-spacing:.3px; }

    .app{ width:min(95vw, 820px); padding:18px; margin:auto; }
    .toolbar{ display:flex; flex-wrap:wrap; gap:12px; align-items:center; margin-bottom:14px; }
    .toolbar label{ font-size:14px; opacity:.9; }

    select, button{
      -webkit-appearance:none; appearance:none;
      background:var(--ui); color:#000; border:1px solid #000; border-radius:12px;
      padding:12px 16px; font-size:16px; font-weight:700; cursor:pointer; outline:none;
      min-height:44px; /* iOS 권장 터치 타깃 */
    }
    select{ padding-right:28px }
    button:disabled{ opacity:.5; cursor:not-allowed }

    .status{ min-height:22px; margin-left:auto; font-size:13px; opacity:.9; }
    .status.error{ color:var(--error); }
    .status.ok{ color:var(--ok); }

    .board-wrap{ position:relative; }
    .board{
      width:min(92vw, 90vmin, 640px); height:min(92vw, 90vmin, 640px);
      background:var(--bg); border:3px solid var(--line); border-radius:16px;
      display:grid; grid-template-columns:repeat(9,1fr); grid-template-rows:repeat(9,1fr);
      overflow:hidden;
    }

    .cell{
      position:relative; border:1px solid var(--line); display:flex; align-items:center; justify-content:center;
      background:var(--cell);
    }

    /* 굵은 3x3 경계선 */
    .cell[r="0"], .cell[r="3"], .cell[r="6"]{ border-top-width:3px }
    .cell[c="0"], .cell[c="3"], .cell[c="6"]{ border-left-width:3px }
    .cell[r="8"]{ border-bottom-width:3px }
    .cell[c="8"]{ border-right-width:3px }

    input.sudoku{
      width:100%; height:100%;
      display:block; box-sizing:border-box;
      border:none; outline:none; background:transparent; text-align:center;
      -webkit-appearance:none; appearance:none;
      font-size: clamp(22px, 7.8vmin, 44px); font-weight:700; color:var(--num);
      line-height:1; /* iOS에서 상하 클립 방지 */
      padding:2px 0 3px; /* 위아래 살짝 여백으로 글자 잘림 방지 */
      margin:0; caret-color:#fff; -webkit-text-size-adjust:100%;
    }
    input.sudoku:disabled{ cursor:default }

    /* 선택 강조 */
    .cell.selected{ box-shadow: inset 0 0 0 2px var(--accent); }

    /* 힌트 모드 안내 오버레이 */
    .hint-banner{
      position:absolute; left:50%; top:-10px; transform:translate(-50%, -100%);
      background:var(--ui); color:#000; padding:8px 12px; border-radius:999px;
      border:1px solid #000; font-size:13px; font-weight:700; white-space:nowrap;
      display:none; z-index:10;
    }
    .board-wrap.hint .hint-banner{ display:block }

    @media (max-width: 480px){
      .app{padding:14px}
      h1{font-size:20px}
    }

    .footer{display:none}
  </style>
</head>
<body>
  <div class="app">
    <h1>스도쿠</h1>
    <div class="toolbar">
      <label>난이도
        <select id="difficulty" aria-label="난이도">
          <option value="easy">하 (쉬움)</option>
          <option value="medium" selected>중 (보통)</option>
          <option value="hard">상 (어려움)</option>
        </select>
      </label>
      <button id="newGame">새 게임</button>
      <button id="hintBtn">힌트 (3)</button>
      <div class="status" id="status" aria-live="polite"></div>
    </div>

    <div class="board-wrap" id="boardWrap">
      <div class="hint-banner">힌트 사용 중: 빈 칸을 클릭하세요</div>
      <div class="board" id="board" role="grid" aria-label="스도쿠 보드"></div>
    </div>
  </div>

  <script>
  // JavaScript는 기존 코드 그대로 (생략)
  </script>
</body>
</html>